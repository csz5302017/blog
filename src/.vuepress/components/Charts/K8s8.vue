<template>
  <div class="vuepress-flowchart"><svg height="2255.3828125" version="1.1" width="536.9296875" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative; left: -0.5px; top: -0.765625px;" viewBox="-272.4296875 0 536.9296875 2255.3828125" preserveAspectRatio="xMidYMid meet"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Raphaël 2.3.0</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><marker id="raphael-marker-endblock33-objmrk8v" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-objsyqud" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-objpwawx" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-objq7zuf" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-objinebi" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-objru4j8" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-obj00vue" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-obj6e0rb" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-obj0diml" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-obj2mep1" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-objw7pcn" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-obj8x8bb" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-objsb0s3" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-obj24ieu" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-obj5070d" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-objhp0h7" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-objlhcwe" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-objctwg4" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker><marker id="raphael-marker-endblock33-objuijm7" markerHeight="3" markerWidth="3" orient="auto" refX="1.5" refY="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"><use xlink:href="#raphael-marker-block" transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="#8DA1AC" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use></marker></defs><rect x="0" y="0" width="50" height="36" rx="20" ry="20" fill="#2f495f" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="start-element" id="st" transform="matrix(1,0,0,1,105.25,48.125)"></rect><text x="10" y="18" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="stt" class="start-elementt" transform="matrix(1,0,0,1,105.25,48.125)" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">开始</tspan></text><rect x="0" y="0" width="127.578125" height="36" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op1" transform="matrix(1,0,0,1,66.4609,182.25)"></rect><text x="10" y="18" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op1t" class="operation-elementt" transform="matrix(1,0,0,1,66.4609,182.25)" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">本地 git 代码提交</tspan></text><rect x="0" y="0" width="145.46875" height="36" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op2" transform="matrix(1,0,0,1,57.5156,316.375)"></rect><text x="10" y="18" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op2t" class="operation-elementt" transform="matrix(1,0,0,1,57.5156,316.375)" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Gitlab 触发自动构建</tspan></text><rect x="0" y="0" width="145.46875" height="36" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op3" transform="matrix(1,0,0,1,57.5156,450.5)"></rect><text x="10" y="18" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op3t" class="operation-elementt" transform="matrix(1,0,0,1,57.5156,450.5)" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Gitlab 执行代码测试</tspan></text><path fill="#ffb500" stroke="#000000" d="M53.625,26.8125L0,53.625L107.25,107.25L214.5,53.625L107.25,0L0,53.625" stroke-width="0px" id="cond1" class="condition-element" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" transform="matrix(1,0,0,1,23,549)"></path><text x="58.625" y="53.625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="cond1t" class="condition-elementt" transform="matrix(1,0,0,1,23,549)" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">是否为发布分支？</tspan></text><rect x="0" y="0" width="145.46875" height="36" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op4" transform="matrix(1,0,0,1,57.5156,754.375)"></rect><text x="10" y="18" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op4t" class="operation-elementt" transform="matrix(1,0,0,1,57.5156,754.375)" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Gitlab 执行代码打包</tspan></text><rect x="0" y="0" width="155.8125" height="52.8125" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op15" transform="matrix(1,0,0,1,52.3438,880.0938)"></rect><text x="10" y="26.40625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op15t" class="operation-elementt" transform="matrix(1,0,0,1,52.3438,880.0938)" stroke-width="1"><tspan dy="-3.40625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Gitlab 根据 Dockerfile</tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">构建项目的完整镜像</tspan></text><rect x="0" y="0" width="144.703125" height="52.8125" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op16" transform="matrix(1,0,0,1,57.8984,1022.625)"></rect><text x="10" y="26.40625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op16t" class="operation-elementt" transform="matrix(1,0,0,1,57.8984,1022.625)" stroke-width="1"><tspan dy="-3.40625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Gitlab 将打好 tag 的</tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">镜像上传到私有云</tspan></text><path fill="#ffb500" stroke="#000000" d="M64.125,32.0625L0,64.125L128.25,128.25L256.5,64.125L128.25,0L0,64.125" stroke-width="0px" id="cond2" class="condition-element" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" transform="matrix(1,0,0,1,2,1127.4375)"></path><text x="69.125" y="64.125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="cond2t" class="condition-elementt" transform="matrix(1,0,0,1,2,1127.4375)" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">是否为线上发布分支？</tspan></text><rect x="0" y="0" width="184.359375" height="52.8125" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op6" transform="matrix(1,0,0,1,-270.4297,1165.1563)"></rect><text x="10" y="26.40625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op6t" class="operation-elementt" transform="matrix(1,0,0,1,-270.4297,1165.1563)" stroke-width="1"><tspan dy="-3.40625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">更改 k8s 相应配置</tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">使用指定 commit sha 发布</tspan></text><rect x="0" y="0" width="145.6875" height="69.609375" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op7" transform="matrix(1,0,0,1,-251.0938,1299.2891)"></rect><text x="10" y="34.8046875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op7t" class="operation-elementt" transform="matrix(1,0,0,1,-251.0938,1299.2891)" stroke-width="1"><tspan dy="-11.796875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">k8s 识别到配置更新</tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">重启指定服务</tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">（滚动更新）</tspan></text><rect x="0" y="0" width="50" height="36" rx="20" ry="20" fill="#2f495f" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="end-element" id="e" transform="matrix(1,0,0,1,105.25,2217.3828)"></rect><text x="10" y="18" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="et" class="end-elementt" transform="matrix(1,0,0,1,105.25,2217.3828)" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">结束</tspan></text><rect x="0" y="0" width="155.828125" height="52.8125" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op13" transform="matrix(1,0,0,1,52.3359,1345.4063)"></rect><text x="10" y="26.40625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op13t" class="operation-elementt" transform="matrix(1,0,0,1,52.3359,1345.4063)" stroke-width="1"><tspan dy="-3.40625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Gitlab 从 Consul 获取</tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">所有活着的节点</tspan></text><rect x="0" y="0" width="160.46875" height="69.609375" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op8" transform="matrix(1,0,0,1,50.0156,1479.5391)"></rect><text x="10" y="34.8046875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op8t" class="operation-elementt" transform="matrix(1,0,0,1,50.0156,1479.5391)" stroke-width="1"><tspan dy="-11.796875" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Gitlab 向服务节点列表</tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">逐个发送 kill 命令</tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">CI 过程到此结束</tspan></text><rect x="0" y="0" width="198.9375" height="36" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op9" transform="matrix(1,0,0,1,30.7813,1647.2734)"></rect><text x="10" y="18" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op9t" class="operation-elementt" transform="matrix(1,0,0,1,30.7813,1647.2734)" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">k8s pod 收到命令，进程退出</tspan></text><rect x="0" y="0" width="202.46875" height="52.8125" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op10" transform="matrix(1,0,0,1,29.0156,1772.9922)"></rect><text x="10" y="26.40625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op10t" class="operation-elementt" transform="matrix(1,0,0,1,29.0156,1772.9922)" stroke-width="1"><tspan dy="-3.40625" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">k8s 使用已经构建完成的</tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">最新镜像自动重新拉起该 pod</tspan></text><rect x="0" y="0" width="227.9375" height="86.40625" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op14" transform="matrix(1,0,0,1,16.2813,1898.7266)"></rect><text x="10" y="43.203125" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op14t" class="operation-elementt" transform="matrix(1,0,0,1,16.2813,1898.7266)" stroke-width="1"><tspan dy="-20.203125" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">pod 启动 nodejs 进程，并：</tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">以 pod name 为 id</tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">1. 从 Consul 解注册所有同名服务</tspan><tspan dy="16.8" x="10" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">2. 向 Consul 注册自己</tspan></text><rect x="0" y="0" width="103.25" height="36" rx="0" ry="0" fill="#00bc7d" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="0px" class="operation-element" id="op12" transform="matrix(1,0,0,1,78.625,2083.2578)"></rect><text x="10" y="18" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#ffffff" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" id="op12t" class="operation-elementt" transform="matrix(1,0,0,1,78.625,2083.2578)" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">pod 完成重启</tspan></text><path fill="none" stroke="#8da1ac" d="M130.25,84.125C130.25,84.125,130.25,162.8147975206375,130.25,179.2597356743645" stroke-width="2" marker-end="url(#raphael-marker-endblock33-objmrk8v)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M130.25,218.25C130.25,218.25,130.25,296.9397975206375,130.25,313.3847356743645" stroke-width="2" marker-end="url(#raphael-marker-endblock33-objsyqud)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M130.25,352.375C130.25,352.375,130.25,431.0647975206375,130.25,447.5097356743645" stroke-width="2" marker-end="url(#raphael-marker-endblock33-objpwawx)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M130.25,486.5C130.25,486.5,130.25,533.5538288354874,130.25,546.0065511151915" stroke-width="2" marker-end="url(#raphael-marker-endblock33-objq7zuf)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M130.25,656.25C130.25,656.25,130.25,734.9397975206375,130.25,751.3847356743645" stroke-width="2" marker-end="url(#raphael-marker-endblock33-objinebi)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="135.25" y="666.25" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#8da1ac" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#8da1ac" d="M237.5,602.625C237.5,602.625,262.5,602.625,262.5,602.625C262.5,602.625,262.5,2192.3828125,262.5,2192.3828125C262.5,2192.3828125,130.25,2192.3828125,130.25,2192.3828125C130.25,2192.3828125,130.25,2207.75625705719,130.25,2214.3920602742583" stroke-width="2" marker-end="url(#raphael-marker-endblock33-objru4j8)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="242.5" y="592.625" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#8da1ac" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#8da1ac" d="M130.25,790.375C130.25,790.375,130.25,861.5020578932017,130.25,877.0958318160765" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj00vue)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M130.25,932.90625C130.25,932.90625,130.25,1004.0333078932017,130.25,1019.6270818160765" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj6e0rb)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M130.25,1075.4375C130.25,1075.4375,130.25,1113.3622789382935,130.25,1124.4360181009397" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj0diml)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M2,1191.5625C2,1191.5625,-67.62889841385186,1191.5625,-83.06421085520378,1191.5625" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj2mep1)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="-3" y="1181.5625" text-anchor="end" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#8da1ac" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: end; font-family: Arial; font-size: 14px;" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">yes</tspan></text><path fill="none" stroke="#8da1ac" d="M130.25,1255.6875C130.25,1255.6875,130.25,1326.8145578932017,130.25,1342.4083318160765" stroke-width="2" marker-end="url(#raphael-marker-endblock33-objw7pcn)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="135.25" y="1265.6875" text-anchor="start" font-family="&quot;Arial&quot;" font-size="14px" stroke="none" fill="#8da1ac" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: Arial; font-size: 14px;" stroke-width="1"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">no</tspan></text><path fill="none" stroke="#8da1ac" d="M-178.25,1217.96875C-178.25,1217.96875,-178.25,1281.627121001482,-178.25,1296.2983861932298" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj8x8bb)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M-178.25,1368.8984375C-178.25,1368.8984375,-178.25,2182.3828125,-178.25,2182.3828125C-178.25,2182.3828125,130.25,2182.3828125,130.25,2182.3828125C130.25,2182.3828125,130.25,2205.9067237377167,130.25,2214.383601908339" stroke-width="2" marker-end="url(#raphael-marker-endblock33-objsb0s3)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M130.25,1398.21875C130.25,1398.21875,130.25,1461.877121001482,130.25,1476.5483861932298" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj24ieu)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M130.25,1549.1484375C130.25,1549.1484375,130.25,1627.8382350206375,130.25,1644.2831731743645" stroke-width="2" marker-end="url(#raphael-marker-endblock33-obj5070d)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M130.25,1683.2734375C130.25,1683.2734375,130.25,1754.4004953932017,130.25,1769.9942693160765" stroke-width="2" marker-end="url(#raphael-marker-endblock33-objhp0h7)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M130.25,1825.8046875C130.25,1825.8046875,130.25,1882.0099909752607,130.25,1895.7319888940256" stroke-width="2" marker-end="url(#raphael-marker-endblock33-objlhcwe)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M130.25,1985.1328125C130.25,1985.1328125,130.25,2063.8226100206375,130.25,2080.2675481743645" stroke-width="2" marker-end="url(#raphael-marker-endblock33-objctwg4)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#8da1ac" d="M130.25,2119.2578125C130.25,2119.2578125,130.25,2197.3828125,130.25,2197.3828125C130.25,2197.3828125,130.25,2208.809280395508,130.25,2214.3886104226112" stroke-width="2" marker-end="url(#raphael-marker-endblock33-objuijm7)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path></svg></div>
</template>